version: 0.1
runson: linux
concurrency: 3
maxRetries: 1

globalTimeout: 30
testSuiteTimeout: 20
testSuiteStep: 300
jobLabel: ['SanjeetKumar', 'APE']

pre:
  - npm ci
  - npx playwright install --with-deps

testDiscovery:
  shell: bash
  autosubset: true
  command: npx playwright test e2e/* --project=edge:latest:Windows@lambdatest --list | grep -o "› [^:]*:[0-9]*" | sed "s/^› //" | tr "\\\\" "/"
  mode: dynamic
  type: raw

testRunnerCommand: npx playwright test $test --headed --project=edge:latest:Windows@lambdatest

uploadArtifacts:
  - name: playwright-results
    path:
      - "test-results/"
